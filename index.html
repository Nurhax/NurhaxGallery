<!DOCTYPE html>
    <html lang="en">

    <!--
    Nurhax Portfolio Gallery
    -->
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Nurhax Gallery Portfolio</title>
        <link rel="icon" href="images/WebLogo.png" type="image/png">
        <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>

    <!--
    Reader Mode Button and Overlay
    -->
    <div id ="reader-mode-btn" title="Toggle Reader Mode">
        ðŸ“–
    </div>

    <div id="reader-overlay">
        <div class = "reader-content">
            <div class="reader-main text-center">
                <h1 style="text-align: center;"><strong>Muhammad Iqbal Nurhaq</strong></h1>
                <h1 style="text-align: center; color: #FDCFFA;"><strong>(Nurhax)</strong></h1>
                <img src="images/Logo Main.png" alt="Logo Main" loading="lazy" style="width:240px; height:240px; border-radius:50%; object-fit:cover; display:block; margin:12px auto;">
                <h2><strong>Software Engineer</strong></h2>
                <p class="text-center" style="max-width: 340px; margin: 0 auto; white-space: pre-line;">
                    A versatile Software Engineer, QA Tester, and Game Developer who blends deep technical expertise with creative skills in content creation and illustration.
                </p>

                <nav class="reader-nav" aria-label="Reader sections">
                    <a href="#about">About</a>
                    <a href="#experience">Experience</a>
                    <a href="#projects">Projects</a>
                    <a href="#art-portfolio">Art Portfolio</a>
                    <a href="#content-showcase">Content Showcase</a>
                </nav>

                <a class="social" href="https://github.com/Nurhax" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                    <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.22 2.2.82A7.65 7.65 0 018 4.6c.68.003 1.36.092 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.28.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
                </a>
                <a class="social" href="https://www.linkedin.com/in/muhammad-iqbal-nurhaq-99b2a1297/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M4.98 3.5C4.98 4.88 3.88 6 2.5 6S0 4.88 0 3.5 1.1 1 2.5 1 4.98 2.12 4.98 3.5zM0 8h5v16H0V8zm7.5 0h4.7v2.2h.1c.7-1.2 2.4-2.5 4.9-2.5 5.2 0 6.2 3.4 6.2 7.8V24h-5V16.5c0-1.8 0-4.1-2.5-4.1-2.5 0-2.9 1.9-2.9 3.9V24h-5V8z"/></svg>
                </a>
                <a class="social" href="https://www.youtube.com/@Nurhax/" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M23.5 6.2s-.2-1.6-.8-2.3c-.8-1-1.7-1-2.1-1.1C16.6 2 12 2 12 2s-4.6 0-8.6.8c-.4.1-1.3.1-2.1 1.1C.7 4.6.5 6.2.5 6.2S0 8 0 9.9v4.2C0 16 0.5 17.8.5 17.8s.2 1.6.8 2.3c.8 1 1.9 1 2.4 1.1C7.4 22 12 22 12 22s4.6 0 8.6-.8c.4-.1 1.3-.1 2.1-1.1.6-.7.8-2.3.8-2.3s.5-1.8.5-3.7V9.9c0-1.9-.5-3.7-.5-3.7zM9.8 15.1V8.9l6.2 3.1-6.2 3.1z"/></svg>
                </a>
                <a class="social" href="https://www.instagram.com/nurhax.dev/" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm8.5 3.5a1 1 0 110 2 1 1 0 010-2zM12 7a5 5 0 110 10 5 5 0 010-10zM12 9.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"/></svg>
                </a>
                <a class="social" href="https://cara.app/nurhax" target="_blank" rel="noopener noreferrer" aria-label="Cara.app">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10"/><text x="12" y="12" font-size="10" text-anchor="middle" fill="#2f2150" dominant-baseline="middle" font-weight="700" font-family="Arial, sans-serif">C</text></svg>
                </a>
            </div>
        </div>

        <div class="reader-details">
            <aside class="reader-side" style="margin-left: auto;">
                <div class="reader-sections">
                    <section id="about">
                        <h2><strong>About</strong></h2>
                        <p>At my core, I am <strong>a passionate generalist</strong> driven by an insatiable curiosity for knowledge, thriving on the challenge of <strong>mastering new tools, frameworks, and languages.</strong> This commitment to continuous learning allows me to adapt quickly and approach complex challenges with a <strong>versatile, well-rounded perspective.</strong></p>
                        <p>My professional focus is <strong>Software Engineering</strong>, with a special emphasis on building unique, <strong>gamified applications</strong>. I aim to develop interactive experiences that are not only functional but also engaging and rewarding for the user</p>
                        <p>Complementing my development work is a deep-seated <strong>expertise in Quality Assurance (QA) and Software Testing</strong>, which I view as a critical mindset woven through the entire lifecycle. I believe quality is a continuous process that enhances the user experience and drives product success, not just a final phase.</p>
                        <p>Outside of my professional life, I express my <strong>creative and analytical sides through illustration</strong> and as a <strong>YouTube content creator</strong>. My channel applies a <strong>"philosophical QA approach"</strong> to deconstruct anime and otaku media, as <strong>I believe storytelling deserves the same level of scrutiny and care as software.</strong></p>
                    </section>

                    <section id="experience">
                        <h2><strong>Experience</strong></h2>
                        <div class="experience-list" role="list">
                            <article class="experience-card" role="listitem">
                                <div class="exp-grid">
                                    <div class="exp-date">May 2025 - Present</div>
                                    <div class="exp-title">QA/Logistics Laboratory Assistant â€” HES Laboratory</div>
                                    <div class="exp-body">
                                        <p class="exp-desc">Web Quality Assurance and Tester, Logistics â€” Manual and Automation Testing, V&V Inventory</p>
                                        <div class="exp-tech">
                                            <span class="tag">JMeter</span>
                                            <span class="tag">Katalon Studio</span>
                                        </div>
                                    </div>
                                </div>
                            </article>

                            <article class="experience-card" role="listitem">
                                <div class="exp-grid">
                                    <div class="exp-date">Nov 2025 - Feb 2026</div>
                                    <div class="exp-title">Quality Assurance (Game Tester) Intern â€” Agate</div>
                                    <div class="exp-body">
                                        <p class="exp-desc">Game testing and quality assurance for an isometric RPG game, ensuring bug-free releases and optimal user experience.</p>
                                        <div class="exp-tech">
                                            <span class="tag">JIRA</span>
                                            <span class="tag">Unreal Engine</span>
                                            <span class="tag">Test Case Automation</span>
                                            <span class="tag">AIO Jira Extension</span>
                                        </div>
                                    </div>
                                </div>
                            </article>

                            <article class="experience-card" role="listitem">
                                <div class="exp-grid">
                                    <div class="exp-date">Jun 2025 - Sep 2025</div>
                                    <div class="exp-title">Software Engineer Intern â€” Siemens</div>
                                    <div class="exp-body">
                                        <p class="exp-desc">Developer and Tester â€” 200+ P2P data systems testing, developed digitalized P2P testing form</p>
                                        <div class="exp-tech">
                                            <span class="tag">Python</span>
                                            <span class="tag">Behave</span>
                                            <span class="tag">Cucumber</span>
                                            <span class="tag">Manual Testing</span>
                                            <span class="tag">TkInter</span>
                                        </div>
                                    </div>
                                </div>
                            </article>

                            <article class="experience-card" role="listitem">
                                <div class="exp-grid">
                                    <div class="exp-date">Feb 2025 - Jun 2025</div>
                                    <div class="exp-title">Software Construction Practicum Assistant â€” Informatics Laboratory</div>
                                    <div class="exp-body">
                                        <p class="exp-desc">Practicum Assistant & Mentor â€” Assisted 40+ students weekly in learning software construction principles and best practices.</p>
                                        <div class="exp-tech">
                                            <span class="tag">Microsoft Excel</span>
                                            <span class="tag">C#</span>
                                            <span class="tag">.NET</span>
                                            <span class="tag">Visual Studio</span>
                                            <span class="tag">Git</span>
                                        </div>
                                    </div>
                                </div>
                            </article>

                            <article class="experience-card" role="listitem">
                                <div class="exp-grid">
                                    <div class="exp-date">Feb 2025 - Jun 2025</div>
                                    <div class="exp-title">OOP Basics Practicum Assistant â€” Informatics Laboratory</div>
                                    <div class="exp-body">
                                        <p class="exp-desc">Practicum Assistant & Mentor â€” Assisted 40+ students weekly in learning object-oriented programming principles and best practices.</p>
                                        <div class="exp-tech">
                                            <span class="tag">Microsoft Excel</span>
                                            <span class="tag">Java</span>
                                            <span class="tag">Eclipse IDE</span>
                                            <span class="tag">Maven</span>
                                            <span class="tag">OOP</span>
                                        </div>
                                    </div>
                                </div>
                            </article>

                            <article class="experience-card" role="listitem">
                                <div class="exp-grid">
                                    <div class="exp-date">Sep 2024 - Jan 2025</div>
                                    <div class="exp-title">Data Structures Practicum Assistant â€” Informatics Laboratory</div>
                                    <div class="exp-body">
                                        <p class="exp-desc">Practicum Assistant & Mentor â€” Assisted 40+ students weekly in debugging and troubleshooting code related to data structures.</p>
                                        <div class="exp-tech">
                                            <span class="tag">Microsoft Excel</span>
                                            <span class="tag">C++</span>
                                            <span class="tag">Codeblocks</span>
                                            <span class="tag">Trees</span>
                                            <span class="tag">Linked Lists</span>
                                        </div>
                                    </div>
                                </div>
                            </article>

                            <article class="experience-card" role="listitem">
                                <div class="exp-grid">
                                    <div class="exp-date">Jan 2023 - Aug 2024</div>
                                    <div class="exp-title">Game Developer Lead â€” Chevalier Laboratory</div>
                                    <div class="exp-body">
                                        <p class="exp-desc">Team leader & QA â€” Best rating award for the game development division.</p>
                                        <div class="exp-tech">
                                            <span class="tag">Unity</span>
                                            <span class="tag">BeepBox</span>
                                            <span class="tag">Aseprite</span>
                                            <span class="tag">Photoshop</span>
                                            <span class="tag">C#</span>
                                        </div>
                                    </div>
                                </div>
                            </article>
                        </div>
                        <!-- Resume/CV Download Section -->
                        <a href="documents/Muhammad Iqbal Nurhaq.pdf" target="_blank" rel="noopener noreferrer" class="reader-nav" style="display:inline-block; margin-top:8px; background:#FDCFFA; color:#202350; padding:10px 18px; border-radius:8px; font-weight:600; text-decoration:none;">
                            ðŸ“„ View & Download Resume (PDF)
                        </a>
                    </section>




                    <section id="projects">
                        <h2><strong>Projects</strong></h2>
                        <p>Selected projects tailored for showcasing <strong>skills, expertise, and creativity.</strong></p>

                        <div class="projects-grid" role="list">
                            <a class="project" href="https://github.com/Nurhax/CERDIKMOBILE" target="_blank" rel="noopener noreferrer" role="listitem" aria-label="CERDIK â€” View repository">
                                <figure class="project-figure" aria-hidden="true">
                                    <img src="images/Cerdik.jpg" alt="CERDIK" loading="lazy">
                                </figure>
                                <div class="project-meta">
                                    <h3><strong>CERDIK</strong></h3>
                                    <p>A medications reminder app with two key roles. Health workers and patients. Health workers can manage medication schedules, while patients receive clear reminders of what and when to take their prescribed medication.</p>
                                    <div class="project-tags">
                                        <span class="tag">Figma</span>
                                        <span class="tag">Flutter</span>
                                        <span class="tag">PHP</span>
                                        <span class="tag">MySQL</span>
                                        <span class="tag">Flutter Test</span>
                                    </div>
                                </div>
                            </a>

                            <a class="project" href="https://github.com/Nurhax/Social-Palace" target="_blank" rel="noopener noreferrer" role="listitem" aria-label="Social Palace â€” View repository">
                                <figure class="project-figure" aria-hidden="true">
                                    <img src="images/SoPal.png" alt="Social Palace" loading="lazy">
                                </figure>
                                <div class="project-meta">
                                    <h3><strong>Social Palace (SoPal)</strong></h3>
                                    <p>A personal social relationship tracker app inspired by the Confidant mechanic from Persona 5. Players can add confidants, level up confidants, track confidant logs, keep your favorite confidants in check.</p>
                                    <div class="project-tags">
                                        <span class="tag">Flutter</span>
                                        <span class="tag">Appium</span>
                                        <span class="tag">SQFlite</span>
                                        <span class="tag">Figma</span>
                                    </div>
                                </div>
                            </a>

                            <a class="project" href="https://github.com/Nurhax/LemmyBot" target="_blank" rel="noopener noreferrer" role="listitem" aria-label="Lemmy Bot â€” View repository">
                                <figure class="project-figure" aria-hidden="true">
                                    <img src="images/LemmyBot.png" alt="Lemmy Bot" loading="lazy">
                                </figure>
                                <div class="project-meta">
                                    <h3><strong>Lemmy Bot</strong></h3>
                                    <p>A virtual assistant for livestreaming in youtube. Reading chat every 60 seconds, talk to viewers and provide real-time responses.</p>
                                    <div class="project-tags">
                                        <span class="tag">Elevenlabs</span>
                                        <span class="tag">Python</span>
                                        <span class="tag">CharAI</span>
                                        <span class="tag">OBSWebsockets</span>
                                    </div>
                                </div>
                            </a>

                            <a class="project" href="https://nurhax.itch.io/" target="_blank" rel="noopener noreferrer" role="listitem" aria-label="Pargantara : The Untold Stories â€” View game">
                                <figure class="project-figure" aria-hidden="true">
                                    <img src="images/Pargantara.png" alt="Pargantara: The Untold Stories" loading="lazy">
                                </figure>
                                <div class="project-meta">
                                    <h3><strong>Pargantara: The Untold Stories</strong></h3>
                                    <p>A roguelike story-driven game inspired by the Java kingdom, featuring a gacha system and a wide variety of unlockable characters.</p>
                                    <div class="project-tags">
                                        <span class="tag">Unity</span>
                                        <span class="tag">BeepBox</span>
                                        <span class="tag">Aseprite</span>
                                        <span class="tag">C#</span>
                                        <span class="tag">Itch.io</span>
                                    </div>
                                </div>
                            </a>

                            <!-- See github -->
                            <a href="https://github.com/Nurhax" target="_blank" rel="noopener noreferrer" class="reader-nav" style="display:inline-block; margin-top:8px; background:#FDCFFA; color:#202350; padding:10px 18px; border-radius:8px; font-weight:600; text-decoration:none;">
                                <span style="vertical-align:middle; margin-right:8px;">
                                    <!-- GitHub logo SVG -->
                                    <svg width="20" height="20" viewBox="0 0 16 16" fill="#202350" xmlns="http://www.w3.org/2000/svg" style="display:inline;">
                                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.22 2.2.82A7.65 7.65 0 018 4.6c.68.003 1.36.092 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.28.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                                    </svg>
                                </span>
                                View All Projects On GitHub
                            </a>
                            
                            
                        </div>
                    </section>

                    <!--Nanti disini kasih untuk lihat semua project -->

                    <section id="art-portfolio">
                        <h2><strong>Art Portfolio</strong></h2>
                        <p>A showcase of my illustration work and creative projects. <strong>Please click the image to view it full-size.</strong></p>

                        <div class="art-grid" role="list">
                            <!-- Replace src values with your artwork images -->
                            <button class="art-item" data-full="images/Kafka1.png" aria-label="Kafka HSR" role="listitem">
                                <figure class="art-figure" aria-hidden="true">
                                    <img src="images/Kafka1.png" data-full="images/Kafka1.png" alt="Kafka HSR" loading="lazy">
                                </figure>
                            </button>

                            <button class="art-item" data-full="images//Hoshiguma2.png" aria-label="Hoshiguma Arknights" role="listitem">
                                <figure class="art-figure" aria-hidden="true">
                                    <img src="images//Hoshiguma2.png" data-full="images/Hoshiguma2.png" alt="Hoshiguma Arknights" loading="lazy">
                                </figure>
                            </button>

                            <button class="art-item" data-full="images/Shinobu3.png" aria-label="Shinobu Monogatari" role="listitem">
                                <figure class="art-figure" aria-hidden="true">
                                    <img src="images/Shinobu3.png" data-full="images/Shinobu3.png" alt="Shinobu Monogatari" loading="lazy">
                                </figure>
                            </button>

                            <button class="art-item" data-full="images/Hachikuji4.png" aria-label="Hachikuji Monogatari" role="listitem">
                                <figure class="art-figure" aria-hidden="true">
                                    <img src="images/Hachikuji4.png" data-full="images/Hachikuji4.png" alt="Hachikuji Monogatari" loading="lazy">
                                </figure>
                            </button>

                                                <!-- See art portfolio -->

                        </div>
                        <a href="https://www.instagram.com/nurhax.dev/" target="_blank" rel="noopener noreferrer" class="reader-nav" style="display:inline-block; margin-top:8px; background:#FDCFFA; color:#202350; padding:10px 18px; border-radius:8px; font-weight:600; text-decoration:none;">
                            <span style="vertical-align:middle; margin-right:8px;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="#202350" xmlns="http://www.w3.org/2000/svg" style="display:inline;">
                                    <path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm8.5 3.5a1 1 0 110 2 1 1 0 010-2zM12 7a5 5 0 110 10 5 5 0 010-10zM12 9.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"/>
                                </svg>
                            </span>
                            View Art Portfolio on Instagram
                        </a>
                    </section>


                    <section id="content-showcase">
                        <h2><strong>Content Showcase</strong></h2>
                        <p>A curated selection of my <strong> best content creation works.</strong></p>

                        <div class="projects-grid" role="list">
                            <a class="project" href="https://www.youtube.com/watch?v=FqltIqB4Hrw" target="_blank" role="listitem" aria-label="ADO's Latest Facts">
                                <figure class="project-figure" aria-hidden="true">
                                    <img src="https://i.ytimg.com/vi/FqltIqB4Hrw/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLD8m5j8RlswndJYw-hiNLuUQl_99A" alt="Content Case Study" loading="lazy">
                                </figure>
                                <div class="project-meta">
                                    <h3><strong>Fakta Baru [ADO] Yang Harus Kamu Ketahui!</strong> </h3>
                                    <p>A breakdown of ADO's latest facts in 2025. Also explaining the implications in her music videos.</p>
                                </div>
                            </a>

                            <a class="project" href="https://www.youtube.com/watch?v=BsfFqoGR6HM" role="listitem" target="_blank" aria-label="Araragi And Hanekawa's Relationship Explained">
                                <figure class="project-figure" aria-hidden="true">
                                    <img src="https://i.ytimg.com/vi/BsfFqoGR6HM/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLCcI2e3x8X6S_vayDrTYkLJGM0MGQ" alt="Tooling Walkthrough" loading="lazy">
                                </figure>
                                <div class="project-meta">
                                    <h3><strong>FRIENDZONE TERBRUTAL DI ANIME (Hanekawa & Araragi)</strong> </h3>
                                    <p>An exploration of the complex relationship dynamics between Hanekawa and Araragi in the Monogatari series.</p>
                                </div>
                            </a>

                            <!-- See youtube channel -->
                            <a href="https://www.youtube.com/@Nurhax/" target="_blank" rel="noopener noreferrer" class="reader-nav" style="display:inline-block; margin-top:8px; background:#FDCFFA; color:#202350; padding:10px 18px; border-radius:8px; font-weight:600; text-decoration:none;">
                                <span style="vertical-align:middle; margin-right:8px;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="#202350" xmlns="http://www.w3.org/2000/svg" style="display:inline;">
                                        <path d="M23.5 6.2s-.2-1.6-.8-2.3c-.8-1-1.7-1-2.1-1.1C16.6 2 12 2 12 2s-4.6 0-8.6.8c-.4.1-1.3.1-2.1 1.1C.7 4.6.5 6.2.5 6.2S0 8 0 9.9v4.2C0 16 0.5 17.8.5 17.8s.2 1.6.8 2.3c.8 1 1.9 1 2.4 1.1C7.4 22 12 22 12 22s4.6 0 8.6-.8c.4-.1 1.3-.1 2.1-1.1.6-.7.8-2.3.8-2.3s.5-1.8.5-3.7V9.9c0-1.9-.5-3.7-.5-3.7zM9.8 15.1V8.9l6.2 3.1-6.2 3.1z"/>
                                    </svg>
                                </span>
                                View All Content On Youtube
                            </a>
                        </div>
                    </section>
                    <p class="credits">The reader section is inspired by <a href="https://brittanychiang.com/" target="_blank" rel="noopener noreferrer"><strong>Brittany Chiangâ€™s portfolio</strong></a>, and the game's art style is inspired by <a href="https://hollowknightsilksong.com/" target="_blank" rel="noopener noreferrer"><strong>Hollow Knight: Silksong</strong></a>.</p>
                </div>
            </aside>
        </div>
    </div>


    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100%;
            width: 100%;
            background: #000;
        }
        canvas {
            display: block;
        }

       /* Reader Mode Styles */
        /* Reader Mode Button */
        #reader-mode-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #9B5DE0;
            color: white;
            font-size: 36px;
            padding: 10px 14px;
            border-radius: 8px;
            cursor: pointer;
            z-index: 1000;
            user-select: none;
            transition: background 0.3s ease;
            opacity: 0.7; /* default 70% transparent */
        }
        #reader-mode-btn:hover {
                background: #FDCFFA;
                opacity: 1; /* fully opaque on hover */
        }

    /* Reader Overlay with cursor-following radial spotlight */
    /* NOTE: This uses CSS vars (--mx / --my / --r). Add the small JS snippet below (in your <script>) to update --mx/--my on mousemove. */

    #reader-overlay {
        /* hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        overflow-y: auto;
        z-index: 999;
        padding: 48px 20px;

        /* base color fallback (darker) */
        background-color: #070512;
        color: #101229; /* deep text with purple tone */

        /* spotlight vars (JS will update --mx/--my in px; --r can be changed for radius) */
    --mx: 50%;
    --my: 50%;
    /* larger but less intense spotlight */
    --r: 420px;

        /* layered background: spotlight radial gradient on top of base background */
        background-image:
            radial-gradient(circle var(--r) at var(--mx) var(--my),
                rgba(255,255,255,0.06) 0%,
                rgba(255,255,255,0.03) 25%,
                rgba(255,255,255,0.01) 40%,
                transparent 65%),
            linear-gradient(#0b0620, #0b0620);

        background-repeat: no-repeat;
        background-attachment: local;

        opacity: 0;
        transform: translateY(18px);
        pointer-events: none;

        transition:
            opacity 0.45s cubic-bezier(.2,.9,.2,1),
            transform 0.45s cubic-bezier(.2,.9,.2,1),
            background-position 0.12s linear; /* small smoothness when cursor moves */

        will-change: background, opacity, transform;
        display: flex;
        align-items: stretch; /* make children fill vertical space */
        justify-content: flex-start;
    }

    /* subtle change when overlay hovered (keeps cursor unchanged) */
    #reader-overlay:hover {
        /* tint the base a little when hovered (keeps cursor unchanged) */
        background-image:
            radial-gradient(circle var(--r) at var(--mx) var(--my),
                rgba(255,255,255,0.10) 0%,
                rgba(255,255,255,0.05) 25%,
                rgba(255,255,255,0.02) 45%,
                transparent 70%),
            linear-gradient(#0b0620, #0b0620);
    }

    #reader-overlay.active{
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
    }

    .reader-content {
    max-width: none;
    width: 50%; /* left half */
    /* make content visually part of overlay: transparent so the overlay's spotlight shows through */
    background: transparent;
    margin: 0 24px 36px 24px; /* top 0, right 24, bottom 36, left 24 */
        font-family: 'Noto Serif JP', serif;
        line-height: 1.65;
        animation: fadeInContent 0.56s ease;
        padding: 8px 12px;
        border-radius: 8px;
        box-shadow: none;
        color: #FDCFFA; /* light text for contrast over dark overlay */
    }

    .reader-content h1 {
            text-align: center;
            color: #D78FEE; /* dark purple from palette */
            font-size: 1.8rem;
            letter-spacing: -0.5px;
        }

    .reader-details {
        /* right half */
        width: 50%;
        flex: 0 0 50%;
        margin: 24px 24px 36px 24px; /* move down slightly: top 24px */
        font-family: 'Noto Serif JP', serif;
        color: #FDCFFA;
        text-align: left;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;
        position: relative; /* allow absolute positioning of inner sections when aligning */
        /* Make the right column independently scrollable when content is long */
        overflow-y: auto;
        -webkit-overflow-scrolling: touch; /* smooth momentum on iOS */
        max-height: calc(100vh - 96px); /* leave space for overlay padding */
        /* Justified text for a clean reader layout */
        text-align: justify;
        text-justify: inter-word;
        -webkit-hyphens: auto;
        -ms-hyphens: auto;
        hyphens: auto;
        word-break: break-word;
        scrollbar-gutter: stable both-edges; /* reserve gutter so scrollbar doesn't overlap content */
    }

    /* Thinner, themed scrollbar for the reader details column (WebKit + Firefox) */
    .reader-details {
        /* Firefox: thin and themed color (thumb on transparent track) */
        scrollbar-width: thin;
        scrollbar-color: rgba(217,199,238,0.38) transparent;
    }

    /* WebKit/Blink scrollbars (Chrome, Edge, Safari) */
    .reader-details::-webkit-scrollbar { width: 10px; height: 10px; }
    .reader-details::-webkit-scrollbar-track { background: transparent; border-radius: 10px; }
    .reader-details::-webkit-scrollbar-thumb {
        background: rgba(217,199,238,0.36); /* matches inactive nav tone but subtler */ 
        border-radius: 10px;
        border: 2px solid transparent;
        background-clip: padding-box;
    }
    .reader-details::-webkit-scrollbar-thumb:hover {
        background: rgba(217,199,238,0.6);
    }

    /* When sections are absolutely positioned inside details, ensure the same scrollbar styles apply */
    .reader-details .reader-sections.absolute::-webkit-scrollbar { width: 10px; }
    .reader-details .reader-sections.absolute { scrollbar-width: thin; scrollbar-color: rgba(217,199,238,0.36) transparent; }

    .reader-details .reader-side { margin-left: 0; }

    /* Make sure headings and meta text are visually left-aligned while
       paragraphs and other long text are justified for readability. */
    .reader-details h2,
    .reader-details h3,
    .reader-details .job-title,
    .reader-details .date,
    .reader-details .tech {
        text-align: left;
    }

    /* Selection styles: change selected text color and give container a border when selection exists */
    .reader-details ::selection, .reader-content ::selection {
        color: #4E56C0;
        background: #FDCFFA;
    }

    /* Layout for reader content: two-column (main left, side right) */
    .reader-content { text-align: left; display: flex; gap: 28px; align-items: flex-start; }
    .reader-main { flex: 1 1 60%; min-width: 280px; }
    .reader-main { margin-top: 0; }
    .reader-side { width: 320px; flex: 0 0 320px; }
    .reader-content h2 { color: #D78FEE; margin-top: 22px; margin-bottom: 8px; }
    /* Reader navigation: show as minimal list with a dash before each section
       - Use nav.reader-nav specifically so other elements that reuse the .reader-nav class (e.g., CTA links)
         are not affected
       - Active link lights up; inactive links use a darker, consistent reader color
       - Hover pops the item out and visually becomes active */
    nav.reader-nav { display: flex; flex-direction: column; gap: 10px; margin: 12px 0 20px; }
    nav.reader-nav a {
        color: rgba(217,199,238,0.9); /* darker but harmonious with reader palette */
        background: transparent; /* remove boxed look */
        padding: 0; /* remove boxed padding */
        border-radius: 0;
        text-decoration: none;
        font-weight: 600;
        display: inline-block;
        position: relative;
        transition: transform 0.16s ease, color 0.16s ease, text-shadow 0.16s ease;
        will-change: transform, color;
        padding-left: 6px; /* space for dash */
    }

    /* Insert an em-dash before the link text */
    nav.reader-nav a::before {
        content: "â€”"; /* long dash */
        display: inline-block;
        margin-right: 10px;
        color: #D78FEE; /* subtle accent for the dash */
        font-weight: 700;
        transform-origin: left center;
    }

    /* Active state: light up and pop slightly to the right */
    nav.reader-nav a.active {
        color: #FDCFFA; /* bright light text */
        transform: translateX(6px);
        text-shadow: 0 2px 8px rgba(253,207,250,0.08);
    }

    /* Hover: pop out and adopt active visual state while hovering */
    nav.reader-nav a:hover {
        transform: translateX(6px) scale(1.02);
        color: #FDCFFA;
        cursor: pointer;
    }

    /* increase space between reader sections for improved readability */
    section { margin-bottom: 96px; }

    /* Experience cards: boxed layout with hover light-up */
    .experience-list { display: flex; flex-direction: column; gap: 14px; margin-top: 12px; }

    .experience-card {
        display: block;
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        border-radius: 10px;
        padding: 14px 16px;
        box-shadow: 0 6px 18px rgba(8,7,16,0.45);
        transition: transform 0.16s ease, box-shadow 0.16s ease, background 0.16s ease;
        border: 1px solid rgba(217,199,238,0.06);
        color: #D7C3E9;
    }

    .experience-card:hover,
    .experience-card:focus-within {
        transform: translateY(-6px);
        box-shadow: 0 18px 40px rgba(8,7,16,0.75);
        background: linear-gradient(180deg, rgba(253,207,250,0.04), rgba(253,207,250,0.02));
        border-color: rgba(253,207,250,0.18);
        color: #FDCFFA;
    }

    .exp-head { display: flex; gap: 12px; align-items: baseline; justify-content: space-between; flex-wrap:wrap; }
    .exp-date { color: rgba(217,199,238,0.72); font-weight:700; min-width: 160px; }
    .exp-title { font-weight:700; color: #FDCFFA; }

    .exp-body { margin-top: 8px; }
    .exp-desc { margin: 0 0 8px 0; color: inherit; }
    .exp-tech { font-size: 0.92rem; color: rgba(217,199,238,0.82); font-weight:600; }

    @media (max-width: 900px) {
        .exp-head { flex-direction: column; align-items: flex-start; gap: 6px; }
        .exp-date { min-width: 0; }
    }

    /* Two-column grid for experience: fixed date column + content column */
    .exp-grid {
        display: grid;
        grid-template-columns: 180px 1fr;
        gap: 12px 18px;
        align-items: start;
    }

    /* Ensure date column remains isolated (no body content flows under it) */
    .exp-date { grid-column: 1 / 2; }
    .exp-title { grid-column: 2 / 3; }
    .exp-body { grid-column: 2 / 3; }

    /* Tag bubbles similar to project tags */
    .exp-tech { display: flex; gap: 8px; flex-wrap: wrap; }
    .exp-tech .tag {
        background: rgba(255,255,255,0.03);
        color: #FDCFFA;
        padding: 6px 10px;
        border-radius: 999px;
        font-size: 0.85rem;
        font-weight: 600;
    }

    @media (max-width: 900px) {
        .exp-grid { grid-template-columns: 1fr; }
        .exp-date { grid-column: 1 / -1; }
        .exp-title { grid-column: 1 / -1; }
        .exp-body { grid-column: 1 / -1; }
    }

    /* Responsive: stack columns on narrow viewports */
    @media (max-width: 900px) {
        #reader-overlay { flex-direction: column; }
        .reader-content, .reader-details { width: 100%; flex: 0 0 auto; margin: 16px 20px; }
        .reader-content { order: 1; }
        .reader-details { order: 2; }
    }

    /* When reader-sections is absolutely positioned it should not exceed the right column */
    .reader-details .reader-sections.absolute {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        width: calc(100% - 40px);
        /* When absolutely positioned, allow sections to still scroll inside details */
        max-height: calc(100vh - 160px);
        overflow-y: auto;
    }

    /* Social bar: horizontal */
    .social-bar { position: fixed; left: 16px; bottom: 16px; display: flex; flex-direction: row; gap: 10px; z-index: 1200; }
    .social { display: inline-flex; width: 44px; height: 44px; align-items: center; justify-content: center; background: rgba(255,255,255,0.03); border-radius: 10px; color: #FDCFFA; text-decoration: none; transition: transform .12s ease, background .12s ease; margin-right: 12px; margin-top: 108px; }
    .social:hover { transform: translateY(-4px); background: rgba(255,255,255,0.06); }

     /* Ensure anchors with the reader-nav class have spacing when next to social icons
         Targets only anchor elements to avoid changing the nav.reader-nav rules above */
     a.reader-nav { margin-left: 12px; }

        /* Reader's mode transition */
        @keyframes fadeInContent {
            from { opacity: 0; transform: translateY(10px);}
            to { opacity: 1; transform: translateY(0); }
        }

    /* Project grid styles (applies to any .projects-grid) */
    .projects-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 18px;
        margin-top: 12px;
    }

    @media (max-width: 780px) {
        #projects .projects-grid {
            grid-template-columns: 1fr;
        }
    }

    .projects-grid .project {
        display: block;
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        border-radius: 10px;
        overflow: hidden;
        text-decoration: none;
        color: inherit;
        box-shadow: 0 6px 18px rgba(8,7,16,0.6);
        border: 1px solid rgba(217,199,238,0.06); /* subtle default border */
        transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }

    .projects-grid .project:hover {
        transform: translateY(-6px);
        box-shadow: 0 18px 40px rgba(8,7,16,0.75);
        border-color: rgba(253,207,250,0.18); /* light purple border on hover */
    }

    .projects-grid .project-figure {
        position: relative; /* was invalid: 'center' */
        width: 100%;
        padding-top: 56.25%; /* 16:9 ratio */
        background: #05050a;
        margin: 0;
        display: block;
    }

    .projects-grid .project-figure img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover !important;
        object-position: center center !important;
        display: block;
        margin: 0;
        padding: 0;
    }

    .projects-grid .project-meta {
        padding: 12px 14px;
        font-family: 'Noto Serif JP', serif;
        background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    }

    .projects-grid .project-meta h3 {
        margin: 0 0 6px 0;
        font-size: 1.05rem;
        color: #FDCFFA;
    }

    .projects-grid .project-meta p {
        margin: 0;
        color: #D7C3E9;
        font-size: 0.94rem;
        line-height: 1.45;
    }

    /* small tag row */
    .projects-grid .project-tags {
        margin-top: 10px;
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
    }

    .projects-grid .tag {
        background: rgba(255,255,255,0.03);
        color: #FDCFFA;
        padding: 6px 8px;
        border-radius: 999px;
        font-size: 0.78rem;
        font-weight: 600;
    }
    
    /* Art grid styles */
    .art-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 12px;
        margin-top: 12px;
    }

    .art-item {
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        border-radius: 10px;
        overflow: hidden;
        padding: 0;
        line-height: 0; /* remove inline whitespace from buttons */
        border: 1px solid rgba(217,199,238,0.06); /* subtle default border */
        cursor: pointer;
        display: block;
        position: relative;
        --mx: 50%;
        --my: 50%;
        --r: 180px;
        box-shadow: 0 6px 14px rgba(8,7,16,0.36);
        transition: box-shadow .18s ease, transform .14s ease, border-color .14s ease;
    }

    .art-item::after {
        content: '';
        position: absolute;
        inset: 0;
        pointer-events: none;
        background-image: radial-gradient(circle var(--r) at var(--mx) var(--my),
            rgba(255,255,255,0.00) 0%,
            rgba(255,255,255,0.00) 25%,
            transparent 65%);
        transition: background 0.14s linear, transform .14s ease, box-shadow .14s ease;
        will-change: background;
        border-radius: inherit;
    }

    .art-item.hovering::after {
        background-image: radial-gradient(circle var(--r) at var(--mx) var(--my),
            rgba(255,255,255,0.06) 0%,
            rgba(255,255,255,0.03) 30%,
            rgba(255,255,255,0.01) 50%,
            transparent 75%);
    }

    .art-item.hovering {
        --r: 280px;
        box-shadow: 0 14px 34px rgba(8,7,16,0.56);
        transform: translateY(-4px);
        border-color: rgba(253,207,250,0.18); /* light purple border while hovering */
    }

    .art-figure {
        position: relative;
        width: 100%;
        aspect-ratio: 1/1;
        background: #05050a;
        display: flex;
        align-items: stretch;
        justify-content: stretch;
        margin: 0;
        padding: 0;
    }
    .art-figure img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center center;
        display: block;
        border-radius: inherit; /* match the parent rounding */
        margin: 0;
        padding: 0;
    }
    /* Bootstrap helper for responsive images */
    .art-figure img {
        /* Use Bootstrap's .img-fluid for responsive scaling */
        max-width: 100%;
        height: 100%;
    }

    /* Credits line under content links */
    .credits {
        margin-top: 8px;
        font-size: 0.88rem;
        color: rgba(217,199,238,0.72);
        line-height: 1.3;
    }
    .credits a {
        color: #FDCFFA;
        text-decoration: underline;
        font-weight: 700;
    }

    /* WIP block styling for virtual art gallery placeholder */
    .wip-block { display: block; border-radius: 10px; overflow: hidden; text-align: center; padding: 18px 14px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border: 1px solid rgba(217,199,238,0.06); box-shadow: 0 6px 18px rgba(8,7,16,0.36); }
    .wip-block .wip-title { margin: 0 0 8px 0; color: #FDCFFA; font-size: 1.02rem; }
    .wip-block .wip-note { margin: 0; color: rgba(217,199,238,0.78); font-size: 0.95rem; line-height: 1.4; }
    .wip-block .wip-btn { background: #9B5DE0; color: #fff; border: none; padding: 8px 12px; border-radius: 8px; font-weight: 700; cursor: pointer; }
    .wip-block .wip-btn:hover { background: #8a4ed1; }

    /* Modal viewer */
    .art-modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(0,0,0,0.75);
        z-index: 2000;
        padding: 24px;
    }

    .art-modal.open { display: flex; }

    .art-modal .frame {
        max-width: 95vw;
        max-height: 95vh;
        background: transparent;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 8px 30px rgba(0,0,0,0.6);
    }

    .art-modal img { display: block; width: 100%; height: auto; max-height: 95vh; object-fit: contain; }

    .art-modal .close-btn {
        position: absolute;
        right: 18px;
        top: 18px;
        background: rgba(255,255,255,0.06);
        color: #FDCFFA;
        border: none;
        padding: 8px 10px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
    }
    </style>


    <!--
    Phaser ts scripts and Reader Mode Toggle Script
    -->
    <body>
        <script type="module" src="/src/main.ts"></script>

        <!-- Game WIP overlay: blocks the game canvas until the user opens Reader Mode -->
        <div id="game-wip-overlay" style="position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:950; pointer-events:auto; background: rgba(0,0,0,0.45);">
            <div class="wip-block" role="alert" aria-live="polite" style="max-width:520px;">
                <h3 class="wip-title">Nurhax Portfolio Gallery (Work In Progress)</h3>
                <p class="wip-note">The game area is currently blocked. Click the Reader Mode button (ðŸ“–) at the top-right to view the portfolio and details.</p>
                <div style="display:flex; gap:10px; margin-top:10px; justify-content:center;">
                    <button id="open-reader-btn" class="wip-btn">Open Reader Mode</button>
                </div>
            </div>
        </div>

        <script>
            const btn = document.getElementById("reader-mode-btn");
            const overlay = document.getElementById("reader-overlay");

            btn.addEventListener("click", () => {
                overlay.classList.toggle("active");

                // When overlay becomes active, position the spotlight using
                // the last known pointer (or center) and align sections.
                if (overlay.classList.contains('active')) {
                    setTimeout(() => {
                        updateOverlayVars();
                        alignReaderSections();
                    }, 80);
                }
            });  

            // Robust pointer tracking: keep last pointer coordinates so the
            // spotlight can be recomputed if the page scrolls, resizes, or
            // the document becomes hidden/visible (minimize/restore).
            let lastPointer = { x: null, y: null };

            // Use pointermove on the document so we capture events even when
            // the pointer is outside the overlay element (helps after scroll).
            const updatePointerFromEvent = (clientX, clientY) => {
                lastPointer.x = clientX;
                lastPointer.y = clientY;
                updateOverlayVars();
            };

            document.addEventListener('pointermove', (e) => {
                // only update when pointer is not a touch contact or when
                // overlay is active - still store coords for later.
                updatePointerFromEvent(e.clientX, e.clientY);
            }, { passive: true });

            // Compute and set CSS vars relative to the overlay's bounding rect.
            function updateOverlayVars() {
                if (!overlay) return;
                const rect = overlay.getBoundingClientRect();

                // If we don't have a stored pointer, center the spotlight in the
                // overlay so it is visible when first opened.
                let px = lastPointer.x;
                let py = lastPointer.y;
                if (px === null || py === null) {
                    px = rect.left + rect.width / 2;
                    py = rect.top + rect.height / 2;
                }

                // Convert client coords to coordinates relative to overlay
                // (so CSS var --mx/--my will be in px from the overlay's top-left).
                const relX = Math.round(px - rect.left);
                const relY = Math.round(py - rect.top);

                overlay.style.setProperty('--mx', relX + 'px');
                overlay.style.setProperty('--my', relY + 'px');
            }

            // Recompute spotlight on scroll and resize so it stays under the
            // cursor. Use passive listeners to avoid jank.
            window.addEventListener('scroll', () => {
                if (!overlay.classList.contains('active')) return;
                updateOverlayVars();
            }, { passive: true });

            window.addEventListener('resize', () => {
                if (!overlay.classList.contains('active')) return;
                updateOverlayVars();
            });

            // When page visibility changes (minimize/restore), the pointer may
            // be lost; when becoming visible again, recompute using stored
            // coords or center if none.
            document.addEventListener('visibilitychange', () => {
                if (document.visibilityState === 'visible' && overlay.classList.contains('active')) {
                    updateOverlayVars();
                }
            });

            // Also update when the overlay itself is scrolled (it can be
            // scrollable). Use capture to ensure we catch it.
            overlay.addEventListener('scroll', () => {
                updateOverlayVars();
            }, { passive: true, capture: true });

            // Prevent page/game scroll except when interacting with
            // the reader overlay. This keeps the game view
            // non-scrollable while allowing the overlay to be
            // scrolled when active.
            function isEventInsideOverlay(e) {
                try {
                    if (!overlay) return false;
                    // Prefer composedPath when available
                    const path = (e.composedPath && e.composedPath()) || (e.path || []);
                    if (path && path.length) return path.indexOf(overlay) !== -1;
                    return overlay.contains(e.target);
                } catch (err) {
                    return overlay.contains(e.target);
                }
            }

            // Intercept wheel events and prevent default when they
            // are not targeting the overlay. passive: false is
            // required so we can call preventDefault().
            document.addEventListener('wheel', (e) => {
                if (!isEventInsideOverlay(e)) {
                    e.preventDefault();
                }
            }, { passive: false });

            // Prevent touchmove from scrolling the game view on
            // mobile; allow touch scrolling when inside the overlay.
            document.addEventListener('touchmove', (e) => {
                if (!isEventInsideOverlay(e)) {
                    e.preventDefault();
                }
            }, { passive: false });

            // Align right-side reader sections vertically to the center of the left h1
            function alignReaderSections() {
                const mainH1 = document.querySelector('.reader-main h1');
                const sections = document.querySelector('.reader-details .reader-sections');
                const details = document.querySelector('.reader-details');
                if (!mainH1 || !sections || !details) return;

                // get the vertical center of the h1 relative to the overlay
                const h1Rect = mainH1.getBoundingClientRect();
                const overlayRect = overlay.getBoundingClientRect();
                const h1CenterY = h1Rect.top + h1Rect.height / 2 - overlayRect.top;

                // compute top so that sections center aligns with h1 center in the right column
                const sectionsHeight = sections.offsetHeight;
                let top = h1CenterY - sectionsHeight / 2;

                // clamp top to stay within the details column
                const detailsPaddingTop = parseInt(window.getComputedStyle(details).paddingTop || '0', 10);
                const detailsPaddingBottom = parseInt(window.getComputedStyle(details).paddingBottom || '0', 10);
                const maxTop = details.offsetHeight - sectionsHeight - detailsPaddingBottom;
                if (top < detailsPaddingTop) top = detailsPaddingTop;
                if (top > maxTop) top = Math.max(detailsPaddingTop, maxTop);

                // apply absolute positioning class and set top
                sections.classList.add('absolute');
                sections.style.top = top + 'px';
            }

            // run on resize
            window.addEventListener('resize', () => { if (overlay.classList.contains('active')) alignReaderSections(); });
            document.addEventListener('DOMContentLoaded', () => { if (overlay.classList.contains('active')) alignReaderSections(); });

            // Toggle .has-selection when the user selects text inside reader-content or reader-details
            function updateSelectionClasses() {
                const sel = document.getSelection();
                const hasText = sel && !sel.isCollapsed && sel.toString().trim().length > 0;
                const readerContent = document.querySelector('.reader-content');
                const readerDetails = document.querySelector('.reader-details');

                if (readerContent) readerContent.classList.toggle('has-selection', hasText && readerContent.contains(sel.anchorNode));
                if (readerDetails) readerDetails.classList.toggle('has-selection', hasText && readerDetails.contains(sel.anchorNode));
            }

            document.addEventListener('selectionchange', updateSelectionClasses);
            document.addEventListener('mouseup', () => setTimeout(updateSelectionClasses, 10));

            // Ensure each .art-item receives pointer handlers to update its own spotlight vars
            function attachArtItemSpotlights() {
                const items = Array.from(document.querySelectorAll('.art-item'));
                if (!items.length) return;

                items.forEach(item => {
                    function setVarsFromEvent(e) {
                        const clientX = (e.touches && e.touches[0] && e.touches[0].clientX) || e.clientX;
                        const clientY = (e.touches && e.touches[0] && e.touches[0].clientY) || e.clientY;
                        if (clientX == null || clientY == null) return;
                        const rect = item.getBoundingClientRect();
                        const relX = Math.round(clientX - rect.left);
                        const relY = Math.round(clientY - rect.top);
                        item.style.setProperty('--mx', relX + 'px');
                        item.style.setProperty('--my', relY + 'px');
                    }

                    item.addEventListener('pointermove', (e) => { setVarsFromEvent(e); item.classList.add('hovering'); }, { passive: true });
                    item.addEventListener('pointerenter', (e) => { setVarsFromEvent(e); item.classList.add('hovering'); });
                    item.addEventListener('pointerleave', () => { item.classList.remove('hovering'); item.style.setProperty('--mx', '50%'); item.style.setProperty('--my', '50%'); });
                    item.addEventListener('touchmove', (e) => { setVarsFromEvent(e); }, { passive: true });
                });
            }

            // Attach handlers after DOM is ready
            document.addEventListener('DOMContentLoaded', attachArtItemSpotlights);
        </script>

        <!-- Small helper script: wire the WIP overlay button to open the reader and hide overlay while reader is active -->
        <script>
            (function(){
                const gameOverlay = document.getElementById('game-wip-overlay');
                const readerBtn = document.getElementById('reader-mode-btn');
                const readerOverlay = document.getElementById('reader-overlay');
                const openBtn = document.getElementById('open-reader-btn');

                if (openBtn && readerBtn) {
                    openBtn.addEventListener('click', () => readerBtn.click());
                }

                if (gameOverlay && readerOverlay) {
                    const mo = new MutationObserver(() => {
                        const active = readerOverlay.classList.contains('active');
                        gameOverlay.style.display = active ? 'none' : 'flex';
                    });
                    mo.observe(readerOverlay, { attributes: true, attributeFilter: ['class'] });
                    // initial state
                    gameOverlay.style.display = readerOverlay.classList.contains('active') ? 'none' : 'flex';
                }
            })();
        </script>

        <!-- Art modal markup -->
        <div class="art-modal" id="art-modal" role="dialog" aria-modal="true" aria-hidden="true">
            <div class="frame" role="document">
                <button class="close-btn" id="art-modal-close" aria-label="Close image">âœ•</button>
                <img id="art-modal-img" src="" alt="Full artwork">
            </div>
        </div>
        <script>
            (function(){
                const modal = document.getElementById('art-modal');
                const modalImg = document.getElementById('art-modal-img');
                const closeBtn = document.getElementById('art-modal-close');
                let lastFocused = null;

                function openModal(src, alt, triggerEl) {
                    modalImg.src = src;
                    modalImg.alt = alt || 'Artwork';
                    modal.classList.add('open');
                    modal.setAttribute('aria-hidden', 'false');
                    lastFocused = triggerEl || document.activeElement;
                    closeBtn.focus();
                }

                function closeModal() {
                    modal.classList.remove('open');
                    modal.setAttribute('aria-hidden', 'true');
                    modalImg.src = '';
                    if (lastFocused && lastFocused.focus) lastFocused.focus();
                }

                // delegate click from art grid
                document.addEventListener('click', (e) => {
                    const btn = e.target.closest && e.target.closest('.art-item');
                    if (!btn) return;
                    e.preventDefault();
                    const imgSrc = btn.getAttribute('data-full') || btn.querySelector('img')?.getAttribute('data-full');
                    const alt = btn.querySelector('img')?.alt || '';
                    if (imgSrc) openModal(imgSrc, alt, btn);
                });

                // close interactions
                closeBtn.addEventListener('click', closeModal);
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeModal(); // backdrop click
                });

                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && modal.classList.contains('open')) {
                        closeModal();
                    }
                });
            })();
        </script>

        <script>
            // Reader nav: smooth scroll, active state, and scrollspy inside the reader overlay
            (function(){
                const overlay = document.getElementById('reader-overlay');
                const nav = document.querySelector('nav.reader-nav');
                if (!nav) return;

                const links = Array.from(nav.querySelectorAll('a[href^="#"]'));
                const idToLink = new Map();
                const sections = [];

                links.forEach(link => {
                    const href = link.getAttribute('href');
                    if (!href || !href.startsWith('#')) return;
                    const id = href.slice(1);
                    const section = document.getElementById(id);
                    if (section) {
                        idToLink.set(id, link);
                        sections.push(section);
                    }

                    // click -> smooth scroll and set active immediately
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        if (!section) return;
                        // If overlay isn't active, open it first so scrolling works
                        if (overlay && !overlay.classList.contains('active')) {
                            overlay.classList.add('active');
                            // small timeout to allow layout and then scroll
                            setTimeout(() => section.scrollIntoView({ behavior: 'smooth', block: 'start' }), 80);
                        } else {
                            section.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }

                        // visually set active state on click
                        links.forEach(l => l.classList.remove('active'));
                        link.classList.add('active');
                        // update hash without jumping
                        try { history.replaceState(null, '', '#'+id); } catch (err) {}
                    });
                });

                // Use IntersectionObserver to highlight the link for the section currently centered in the overlay
                if (sections.length && overlay) {
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            const id = entry.target.id;
                            const link = idToLink.get(id);
                            if (!link) return;
                            // Use intersection ratio or isIntersecting to decide
                            if (entry.isIntersecting && entry.intersectionRatio > 0.45) {
                                links.forEach(l => l.classList.remove('active'));
                                link.classList.add('active');
                            }
                        });
                    }, {
                        root: overlay,
                        rootMargin: '0px 0px -40% 0px',
                        threshold: [0.45, 0.6]
                    });

                    sections.forEach(s => observer.observe(s));
                }

                // If a hash exists on load and matches a section, mark it active
                document.addEventListener('DOMContentLoaded', () => {
                    const hash = (location.hash || '').replace('#','');
                    if (hash && idToLink.has(hash)) {
                        links.forEach(l => l.classList.remove('active'));
                        idToLink.get(hash).classList.add('active');
                    }
                });
            })();
        </script>
    </body>
    
</html>
